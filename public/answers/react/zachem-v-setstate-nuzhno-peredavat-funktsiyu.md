# Зачем в `setState()` нужно передавать функцию?

В `setState()` нужно передавать функцию, когда новое состояние зависит от предыдущего. Это гарантирует актуальность состояния и предотвращает проблемы с асинхронными обновлениями.

## Проблема

### С объектом:

```jsx
// ❌ Проблема при множественных обновлениях
this.setState({ count: this.state.count + 1 });
this.setState({ count: this.state.count + 1 });
// Результат: count увеличится только на 1
```

## Решение

### С функцией:

```jsx
// ✅ Правильно
this.setState(prevState => ({ count: prevState.count + 1 }));
this.setState(prevState => ({ count: prevState.count + 1 }));
// Результат: count увеличится на 2
```

## Примеры

### Множественные обновления:

```jsx
function Component() {
    const [count, setCount] = useState(0);
    
    const increment = () => {
        setCount(prev => prev + 1);
        setCount(prev => prev + 1);
        // count увеличится на 2
    };
}
```

### Зависимость от предыдущего состояния:

```jsx
function Component() {
    const [items, setItems] = useState([]);
    
    const addItem = (item) => {
        setItems(prev => [...prev, item]);
    };
}
```

## Заключение

**Функция в setState:**

1. ✅ Гарантирует актуальность состояния
2. ✅ Правильная обработка множественных обновлений
3. ✅ Зависимость от предыдущего состояния

**Рекомендации:**

- Используйте функцию, когда состояние зависит от предыдущего
- Используйте функцию для множественных обновлений
- Понимайте асинхронность setState

Передача функции в setState гарантирует корректное обновление состояния.



