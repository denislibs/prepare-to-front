# Что такое рекурсия?

Рекурсия — это техника программирования, при которой функция вызывает саму себя. Рекурсия — это мощный инструмент для решения задач, которые можно разбить на более мелкие подзадачи того же типа. Понимание рекурсии критически важно для написания эффективных алгоритмов и решения сложных задач.

## Что такое рекурсия?

Рекурсия — это процесс, при котором функция вызывает саму себя для решения задачи.

### Характеристики:

- ✅ **Функция вызывает себя** — прямо или косвенно
- ✅ **Базовый случай** — условие остановки
- ✅ **Рекурсивный случай** — вызов функции с другими параметрами
- ⚠️ **Риск переполнения стека** — если нет базового случая

## Базовый пример

### Факториал:

```javascript
function factorial(n) {
  // Базовый случай
  if (n <= 1) {
    return 1;
  }
  
  // Рекурсивный случай
  return n * factorial(n - 1);
}

console.log(factorial(5)); // 120 (5 * 4 * 3 * 2 * 1)
```

## Практические примеры

### Пример 1: Фибоначчи

```javascript
function fibonacci(n) {
  // Базовый случай
  if (n <= 1) {
    return n;
  }
  
  // Рекурсивный случай
  return fibonacci(n - 1) + fibonacci(n - 2);
}

console.log(fibonacci(6)); // 8
```

### Пример 2: Обход дерева

```javascript
function traverseTree(node) {
  if (!node) {
    return;
  }
  
  console.log(node.value);
  traverseTree(node.left);
  traverseTree(node.right);
}
```

### Пример 3: Глубокое копирование

```javascript
function deepCopy(obj) {
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  
  if (Array.isArray(obj)) {
    return obj.map(item => deepCopy(item));
  }
  
  const copy = {};
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      copy[key] = deepCopy(obj[key]);
    }
  }
  return copy;
}
```

## Базовый случай

Базовый случай — это условие, которое останавливает рекурсию. Без базового случая функция будет вызывать себя бесконечно.

```javascript
function countdown(n) {
  // Базовый случай
  if (n <= 0) {
    return;
  }
  
  console.log(n);
  countdown(n - 1); // Рекурсивный вызов
}

countdown(5); // 5, 4, 3, 2, 1
```

## Хвостовая рекурсия

Хвостовая рекурсия — это особый вид рекурсии, при котором рекурсивный вызов является последней операцией функции.

```javascript
// Обычная рекурсия
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1); // Не хвостовая (есть операция после вызова)
}

// Хвостовая рекурсия
function factorialTail(n, acc = 1) {
  if (n <= 1) return acc;
  return factorialTail(n - 1, n * acc); // Хвостовая (последняя операция)
}
```

## Преимущества и недостатки

### Преимущества:

- ✅ **Элегантность** — код может быть более читаемым
- ✅ **Решение сложных задач** — для задач, которые естественно рекурсивны
- ✅ **Меньше кода** — для некоторых задач

### Недостатки:

- ⚠️ **Переполнение стека** — для глубокой рекурсии
- ⚠️ **Производительность** — может быть медленнее итерации
- ⚠️ **Сложность отладки** — сложнее отлаживать

## Лучшие практики

### ✅ Делайте:

1. **Всегда определяйте базовый случай** — для остановки рекурсии
2. **Используйте для подходящих задач** — которые естественно рекурсивны
3. **Рассматривайте итерацию** — для производительности
4. **Используйте мемоизацию** — для оптимизации

## Заключение

Рекурсия:

- **Функция вызывает себя** — для решения задачи
- **Базовый случай** — условие остановки
- **Рекурсивный случай** — вызов с другими параметрами
- **Мощный инструмент** — для решения сложных задач

**Помните:** рекурсия — это мощная техника для решения задач, которые можно разбить на подзадачи. Всегда определяйте базовый случай для остановки рекурсии, используйте рекурсию для подходящих задач и рассматривайте итерацию для производительности. Понимание рекурсии критически важно для написания эффективных алгоритмов.

