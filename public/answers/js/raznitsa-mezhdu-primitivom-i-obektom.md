# Разница между примитивом и объектом?

В JavaScript существует два основных типа данных: примитивы (primitives) и объекты (objects). Понимание различий между ними критически важно для правильной работы с данными и избежания неожиданного поведения.

## Что такое примитивы?

Примитивы — это простые, неизменяемые (immutable) типы данных, которые хранятся по значению.

### Типы примитивов:

- `string` — строка
- `number` — число
- `boolean` — логическое значение
- `null` — отсутствие значения
- `undefined` — неопределенное значение
- `symbol` — уникальный идентификатор
- `bigint` — большое целое число

### Характеристики:

- ✅ **Хранятся по значению** — копируется само значение
- ✅ **Неизменяемые** — нельзя изменить после создания
- ✅ **Простые** — не имеют методов (кроме оберток)
- ✅ **Быстрые** — эффективное использование памяти

## Что такое объекты?

Объекты — это сложные, изменяемые (mutable) типы данных, которые хранятся по ссылке.

### Типы объектов:

- `Object` — обычный объект
- `Array` — массив
- `Function` — функция
- `Date` — дата
- `RegExp` — регулярное выражение
- И другие встроенные объекты

### Характеристики:

- ✅ **Хранятся по ссылке** — копируется ссылка на объект
- ✅ **Изменяемые** — можно изменять после создания
- ✅ **Имеют методы** — встроенные функции
- ✅ **Сложные** — могут содержать другие данные

## Основные различия

### 1. **Хранение данных**

**Примитивы:**

```javascript
// Хранятся по значению
let a = 5;
let b = a; // Копируется значение
b = 10;
console.log(a); // 5 (не изменилось)
console.log(b); // 10
```

**Объекты:**

```javascript
// Хранятся по ссылке
let obj1 = { name: "John" };
let obj2 = obj1; // Копируется ссылка
obj2.name = "Jane";
console.log(obj1.name); // "Jane" (изменилось!)
console.log(obj2.name); // "Jane"
```

### 2. **Изменяемость**

**Примитивы:**

```javascript
// Неизменяемые
let str = "Hello";
str[0] = "h"; // Не работает
console.log(str); // "Hello" (не изменилось)

// Создается новая строка
str = str.toUpperCase(); // Создается новая строка
console.log(str); // "HELLO"
```

**Объекты:**

```javascript
// Изменяемые
let obj = { name: "John" };
obj.name = "Jane"; // Изменяется существующий объект
console.log(obj); // { name: "Jane" }
```

### 3. **Сравнение**

**Примитивы:**

```javascript
// Сравниваются по значению
let a = 5;
let b = 5;
console.log(a === b); // true (одинаковые значения)

let str1 = "Hello";
let str2 = "Hello";
console.log(str1 === str2); // true (одинаковые значения)
```

**Объекты:**

```javascript
// Сравниваются по ссылке
let obj1 = { name: "John" };
let obj2 = { name: "John" };
console.log(obj1 === obj2); // false (разные ссылки!)

let obj3 = obj1;
console.log(obj1 === obj3); // true (одинаковые ссылки)
```

### 4. **Методы**

**Примитивы:**

```javascript
// Не имеют методов напрямую
let str = "hello";
// JavaScript автоматически создает временный объект-обертку
console.log(str.toUpperCase()); // "HELLO"

// После использования обертка удаляется
```

**Объекты:**

```javascript
// Имеют методы
let arr = [1, 2, 3];
arr.push(4); // Метод массива
console.log(arr); // [1, 2, 3, 4]

let obj = { name: "John" };
console.log(obj.hasOwnProperty("name")); // true (метод объекта)
```

## Практические примеры

### Пример 1: Копирование

```javascript
// Примитивы - копирование значения
let num1 = 10;
let num2 = num1;
num2 = 20;
console.log(num1); // 10 (не изменилось)
console.log(num2); // 20

// Объекты - копирование ссылки
let obj1 = { value: 10 };
let obj2 = obj1;
obj2.value = 20;
console.log(obj1.value); // 20 (изменилось!)
console.log(obj2.value); // 20
```

### Пример 2: Передача в функции

```javascript
// Примитивы - передаются по значению
function changePrimitive(value) {
  value = 100;
}

let num = 10;
changePrimitive(num);
console.log(num); // 10 (не изменилось)

// Объекты - передаются по ссылке
function changeObject(obj) {
  obj.value = 100;
}

let obj = { value: 10 };
changeObject(obj);
console.log(obj.value); // 100 (изменилось!)
```

### Пример 3: Сравнение

```javascript
// Примитивы
let a = 5;
let b = 5;
console.log(a === b); // true

// Объекты
let obj1 = { id: 1 };
let obj2 = { id: 1 };
console.log(obj1 === obj2); // false (разные объекты)

// Для сравнения объектов нужно сравнивать свойства
console.log(obj1.id === obj2.id); // true
```

### Пример 4: Изменяемость

```javascript
// Примитивы - неизменяемые
let str = "Hello";
str = str + " World"; // Создается новая строка
console.log(str); // "Hello World"

// Объекты - изменяемые
let arr = [1, 2, 3];
arr.push(4); // Изменяется существующий массив
console.log(arr); // [1, 2, 3, 4]
```

## Wrapper Objects (Объекты-обертки)

### Автоматическое создание:

```javascript
// Примитив автоматически оборачивается в объект
let str = "hello";
console.log(str.toUpperCase()); // "HELLO"

// Эквивалентно:
let strObj = new String("hello");
console.log(strObj.toUpperCase()); // "HELLO"
// strObj удаляется после использования
```

### Явное создание:

```javascript
// ❌ Не рекомендуется
let str = new String("hello");
console.log(typeof str); // "object" (не "string"!)

// ✅ Рекомендуется
let str = "hello";
console.log(typeof str); // "string"
```

## Проверка типа

### typeof:

```javascript
// Примитивы
console.log(typeof "hello"); // "string"
console.log(typeof 42); // "number"
console.log(typeof true); // "boolean"
console.log(typeof undefined); // "undefined"
console.log(typeof null); // "object" (баг в JavaScript!)

// Объекты
console.log(typeof {}); // "object"
console.log(typeof []); // "object"
console.log(typeof function() {}); // "function"
```

### instanceof:

```javascript
// Примитивы
console.log("hello" instanceof String); // false

// Объекты
console.log([] instanceof Array); // true
console.log({} instanceof Object); // true
```

## Лучшие практики

### ✅ Делайте:

1. **Используйте примитивы** — когда возможно
2. **Понимайте разницу** — между значением и ссылкой
3. **Копируйте объекты** — когда нужна независимая копия
4. **Используйте строгое сравнение** — === для примитивов

### ❌ Не делайте:

1. **Не создавайте объекты-обертки** — без необходимости
2. **Не сравнивайте объекты** — через === (сравнивайте свойства)
3. **Не забывайте про изменяемость** — объектов
4. **Не полагайтесь на typeof null** — используйте === null

## Заключение

Разница между примитивом и объектом:

- **Хранение** — примитивы по значению, объекты по ссылке
- **Изменяемость** — примитивы неизменяемые, объекты изменяемые
- **Сравнение** — примитивы по значению, объекты по ссылке
- **Методы** — примитивы через обертки, объекты напрямую

**Помните:** понимание различий между примитивами и объектами критически важно для правильной работы с данными. Примитивы хранятся по значению и неизменяемы, объекты хранятся по ссылке и изменяемы. Понимание этих различий помогает избежать неожиданного поведения в коде.

