# Порядок наложения элементов в CSS (Stacking Order)?

Порядок наложения элементов в CSS (Stacking Order) определяет, какие элементы отображаются поверх других. Это важная концепция для понимания, как элементы накладываются друг на друга.

## Что такое Stacking Order?

Stacking Order — это порядок, в котором элементы накладываются друг на друга по оси Z (глубина). Элементы с более высоким порядком отображаются поверх элементов с более низким порядком.

## Порядок наложения

### 1. **Корневой элемент**

Элемент `<html>` создает корневой контекст наложения.

### 2. **Элементы с отрицательным z-index**

```css
.element {
    position: relative;
    z-index: -1; /* Позади других элементов */
}
```

### 3. **Элементы без позиционирования**

```css
.element {
    /* position: static (по умолчанию) */
}
```

### 4. **Элементы с позиционированием и z-index: auto**

```css
.element {
    position: relative;
    z-index: auto;
}
```

### 5. **Элементы с положительным z-index**

```css
.element {
    position: relative;
    z-index: 1; /* Поверх других */
}
```

## Примеры

### Базовый порядок:

```html
<div class="element-1">Элемент 1</div>
<div class="element-2">Элемент 2</div>
```

```css
.element-1 {
    position: relative;
    z-index: 1;
}

.element-2 {
    position: relative;
    z-index: 2; /* Поверх element-1 */
}
```

### Наложение контекстов:

```html
<div class="parent-1">
    <div class="child-1">Ребенок 1</div>
</div>
<div class="parent-2">
    <div class="child-2">Ребенок 2</div>
</div>
```

```css
.parent-1 {
    position: relative;
    z-index: 1;
}

.child-1 {
    position: relative;
    z-index: 100; /* В контексте parent-1 */
}

.parent-2 {
    position: relative;
    z-index: 2; /* Поверх parent-1 */
}

.child-2 {
    position: relative;
    z-index: 1; /* Но все равно поверх child-1 */
}
```

## Факторы, влияющие на порядок

### 1. **Позиционирование**

Только позиционированные элементы (`position: relative/absolute/fixed/sticky`) могут использовать `z-index`.

### 2. **z-index**

Значение `z-index` определяет порядок внутри контекста наложения.

### 3. **Порядок в DOM**

При равном `z-index` элемент, который идет позже в DOM, отображается поверх.

### 4. **Контекст наложения**

Каждый контекст наложения изолирован от других.

## Заключение

**Порядок наложения:**

1. ✅ Корневой элемент
2. ✅ Элементы с отрицательным z-index
3. ✅ Элементы без позиционирования
4. ✅ Элементы с позиционированием и z-index: auto
5. ✅ Элементы с положительным z-index

**Факторы:**

- Позиционирование
- z-index
- Порядок в DOM
- Контекст наложения

**Рекомендации:**

- Понимайте порядок наложения
- Используйте z-index осознанно
- Учитывайте контексты наложения

Правильное понимание порядка наложения критично для создания сложных макетов.

