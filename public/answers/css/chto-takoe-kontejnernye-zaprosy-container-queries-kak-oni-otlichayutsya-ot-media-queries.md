# Что такое "контейнерные запросы" (container queries)? Как они отличаются от медиазапросов (media queries)?

Контейнерные запросы (container queries) — это новая CSS-функция, которая позволяет применять стили на основе размера родительского контейнера, а не размера окна браузера, как в медиазапросах.

## Что такое контейнерные запросы?

Контейнерные запросы позволяют применять стили к элементу на основе размера его ближайшего контейнера-предка, а не размера viewport.

## Базовое использование

### Объявление контейнера:

```css
.container {
    container-type: inline-size;
    /* или */
    container-type: size;
}
```

### Запрос:

```css
@container (min-width: 500px) {
    .card {
        display: flex;
    }
}
```

## Сравнение с медиазапросами

### Медиазапросы (Media Queries):

```css
/* Стили зависят от размера окна браузера */
@media (min-width: 768px) {
    .card {
        display: flex;
    }
}
```

**Зависит от:** Размера viewport (окна браузера)

### Контейнерные запросы (Container Queries):

```css
/* Стили зависят от размера контейнера */
.container {
    container-type: inline-size;
}

@container (min-width: 500px) {
    .card {
        display: flex;
    }
}
```

**Зависит от:** Размера родительского контейнера

## Примеры использования

### Адаптивная карточка:

```html
<div class="container">
    <div class="card">
        <img src="image.jpg" alt="Image">
        <div class="card-content">
            <h2>Заголовок</h2>
            <p>Текст карточки</p>
        </div>
    </div>
</div>
```

```css
.container {
    container-type: inline-size;
}

.card {
    display: block;
}

@container (min-width: 500px) {
    .card {
        display: flex;
    }
}

@container (min-width: 800px) {
    .card {
        flex-direction: row;
    }
}
```

### Компонент в сайдбаре:

```css
.sidebar {
    container-type: inline-size;
}

.widget {
    padding: 1rem;
}

@container (min-width: 300px) {
    .widget {
        padding: 2rem;
    }
}
```

## Типы контейнеров

### `inline-size`:

```css
.container {
    container-type: inline-size;
}
```

Отслеживает только inline-размер (ширину для горизонтального текста).

### `size`:

```css
.container {
    container-type: size;
}
```

Отслеживает и ширину, и высоту.

### Именованные контейнеры:

```css
.container {
    container-type: inline-size;
    container-name: card-container;
}

@container card-container (min-width: 500px) {
    .card {
        display: flex;
    }
}
```

## Преимущества контейнерных запросов

### 1. **Компонентная независимость**

Компоненты адаптируются к своему контейнеру, а не к размеру экрана.

### 2. **Переиспользование**

Один и тот же компонент может работать в разных контекстах.

### 3. **Гибкость**

Компоненты адаптируются к доступному пространству.

## Поддержка браузеров

### Текущая поддержка:

- ✅ Chrome 105+
- ✅ Edge 105+
- ✅ Safari 16.0+
- ❌ Firefox (в разработке)

### Fallback:

```css
/* Медиазапросы как fallback */
.card {
    display: block;
}

@media (min-width: 768px) {
    .card {
        display: flex;
    }
}

/* Контейнерные запросы для поддерживающих браузеров */
@container (min-width: 500px) {
    .card {
        display: flex;
    }
}
```

## Заключение

**Контейнерные запросы:**

1. ✅ Зависят от размера контейнера
2. ✅ Позволяют создавать независимые компоненты
3. ✅ Улучшают переиспользование компонентов
4. ✅ Более гибкие, чем медиазапросы

**Медиазапросы:**

1. ✅ Зависят от размера viewport
2. ✅ Поддерживаются всеми браузерами
3. ✅ Подходят для глобальных изменений

**Различия:**

- Контейнерные запросы — размер контейнера
- Медиазапросы — размер viewport
- Контейнерные запросы — компонентный подход
- Медиазапросы — глобальный подход

**Рекомендации:**

- Используйте контейнерные запросы для компонентов
- Используйте медиазапросы для глобальных изменений
- Предоставляйте fallback для старых браузеров

Контейнерные запросы — мощный инструмент для создания адаптивных компонентов.

